name: "msa_custom"
tags: ["msa_custom", "private_instance"]
filebeat.inputs:
- type: log
  paths:
    - '/var/lib/docker/volumes/quickstart_msa_api_logs/_data/*.log'
  multiline:
    type: pattern
    pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}\s([0-9]{2}\:){2}[0-9]{2}
    negate: true
    match: after
output.elasticsearch:
  hosts: "msa_es:9200"
  username: "elastic"
  password: "PASSWORD HERE"
  protocol: "https"
  ssl.verification_mode: none
  indices:
    - index: "msa-api-%{[agent.version]}-%{+yyyy.MM.dd}"
      when.contains:
        log.file.path: "quickstart_msa_api_logs"
setup.kibana:
  host: "msa_kibana:5601"
  protocol: "https"
  username: "elastic"
  password: "PASSWORD HERE"
  ssl.verification_mode: none